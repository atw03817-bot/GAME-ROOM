/* إصلاح القوائم المنسدلة في الجوال */
@media (max-width: 768px) {
  /* تحسين عرض القوائم المنسدلة */
  select, .mobile-select {
    /* منع القائمة من الخروج خارج الشاشة */
    max-width: 100% !important;
    width: 100% !important;
    box-sizing: border-box !important;
    
    /* تحسين الخط والحجم */
    font-size: 16px !important; /* منع التكبير التلقائي في iOS */
    line-height: 1.5 !important;
    
    /* تحسين الحشو */
    padding: 12px 40px 12px 12px !important; /* مساحة للسهم */
    
    /* تحسين الحدود */
    border-radius: 8px !important;
    border: 2px solid #d1d5db !important;
    
    /* تحسين الخلفية */
    background-color: #ffffff !important;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23374151' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e") !important;
    background-repeat: no-repeat !important;
    background-position: left 12px center !important;
    background-size: 16px !important;
    
    /* إخفاء السهم الافتراضي */
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    
    /* تحسين النص */
    color: #111827 !important;
    text-align: right !important;
    direction: rtl !important;
    
    /* تحسين التركيز */
    transition: all 0.2s ease !important;
    
    /* منع التمرير الأفقي */
    overflow-x: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    
    /* تحسين الموضع */
    position: relative !important;
    z-index: 1 !important;
  }
  
  select:focus, .mobile-select:focus {
    outline: none !important;
    border-color: #8b5cf6 !important;
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1) !important;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%238b5cf6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e") !important;
  }
  
  /* تحسين الخيارات */
  select option, .mobile-select option {
    padding: 12px 16px !important;
    font-size: 16px !important;
    color: #111827 !important;
    background-color: #ffffff !important;
    direction: rtl !important;
    text-align: right !important;
    border: none !important;
    min-height: 44px !important; /* الحد الأدنى للمس */
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
  }
  
  /* تحسين القوائم المنسدلة في النماذج */
  .maintenance-form select,
  .maintenance-form .mobile-select {
    position: relative !important;
    z-index: 10 !important;
    margin-bottom: 4px !important;
  }
  
  /* منع التمرير الأفقي */
  .maintenance-form {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }
  
  /* تحسين الحاويات */
  .maintenance-form .grid {
    gap: 1rem !important;
  }
  
  .maintenance-form .grid > div {
    min-width: 0 !important;
    overflow: hidden !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }
  
  /* تحسين الحقول في الشبكة */
  .maintenance-form .md\\:col-span-2 {
    grid-column: span 1 !important;
  }
  
  /* إصلاح خاص للقوائم الطويلة */
  select option {
    max-width: calc(100vw - 80px) !important;
  }
  
  /* تحسين عرض القوائم المنسدلة عند الفتح */
  select:focus option {
    background-color: #ffffff !important;
    color: #111827 !important;
  }
  
  select option:checked {
    background-color: #8b5cf6 !important;
    color: #ffffff !important;
  }
}

/* تحسينات إضافية للشاشات الصغيرة جداً */
@media (max-width: 480px) {
  select, .mobile-select {
    font-size: 14px !important;
    padding: 10px 36px 10px 10px !important;
    background-position: left 10px center !important;
    background-size: 14px !important;
  }
  
  select option, .mobile-select option {
    font-size: 14px !important;
    padding: 10px 12px !important;
    min-height: 40px !important;
  }
  
  /* تحسين التخطيط للشاشات الصغيرة */
  .maintenance-form .grid {
    grid-template-columns: 1fr !important;
    gap: 0.75rem !important;
  }
  
  /* تحسين النصوص الطويلة */
  select option {
    max-width: calc(100vw - 60px) !important;
  }
}

/* إصلاح خاص للقوائم الطويلة */
select[size], .mobile-select[size] {
  max-height: 200px !important;
  overflow-y: auto !important;
}

/* تحسين القوائم في الوضع الأفقي */
@media (max-width: 768px) and (orientation: landscape) {
  select, .mobile-select {
    max-height: 120px !important;
  }
}

/* تحسين خاص لنظام iOS */
@supports (-webkit-touch-callout: none) {
  select, .mobile-select {
    -webkit-appearance: none !important;
    border-radius: 8px !important;
    background-attachment: scroll !important;
  }
}

/* تحسين للوضع المظلم */
@media (prefers-color-scheme: dark) {
  @media (max-width: 768px) {
    select, .mobile-select {
      background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e") !important;
    }
  }
}

/* تحسين خاص للأندرويد */
@media (max-width: 768px) {
  select {
    /* منع التكبير التلقائي */
    font-size: 16px !important;
    transform-origin: left top !important;
  }
  
  /* تحسين عرض الخيارات */
  select option {
    font-weight: normal !important;
    font-style: normal !important;
  }
}

/* تحسين إضافي للتأكد من عدم خروج القائمة */
@media (max-width: 768px) {
  .maintenance-form,
  .maintenance-form * {
    max-width: 100% !important;
    overflow-x: hidden !important;
  }
  
  .maintenance-form select,
  .maintenance-form .mobile-select {
    max-width: 100% !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }
}

/* إزالة النقاط من نظام الصيانة فقط */
.maintenance-form,
.maintenance-form *,
.maintenance-form ul,
.maintenance-form ol,
.maintenance-form li,
.maintenance-form div,
.maintenance-form label,
.maintenance-form h1,
.maintenance-form h2,
.maintenance-form h3,
.maintenance-form h4,
.maintenance-form h5,
.maintenance-form h6,
.maintenance-form p,
.maintenance-form span {
  list-style: none !important;
  list-style-type: none !important;
  list-style-image: none !important;
  list-style-position: outside !important;
}

.maintenance-form *::before,
.maintenance-form *::after {
  content: none !important;
  display: none !important;
}

/* إزالة النقاط بقوة أكبر في الجوال */
@media (max-width: 768px) {
  .maintenance-form,
  .maintenance-form *,
  .maintenance-form ul,
  .maintenance-form ol,
  .maintenance-form li,
  .maintenance-form div,
  .maintenance-form label,
  .maintenance-form input,
  .maintenance-form select,
  .maintenance-form textarea,
  .maintenance-form h1,
  .maintenance-form h2,
  .maintenance-form h3,
  .maintenance-form h4,
  .maintenance-form h5,
  .maintenance-form h6,
  .maintenance-form p,
  .maintenance-form span {
    list-style: none !important;
    list-style-type: none !important;
    list-style-image: none !important;
    list-style-position: outside !important;
  }
  
  .maintenance-form *::before,
  .maintenance-form *::after {
    content: none !important;
    display: none !important;
  }
  
  /* إزالة النقاط من Tailwind CSS */
  .maintenance-form .list-disc,
  .maintenance-form .list-decimal,
  .maintenance-form .list-inside,
  .maintenance-form .list-outside {
    list-style: none !important;
    list-style-type: none !important;
  }
}