# ุฅุตูุงุญ ุญุณุงุจ ุงูุนูููุฉ - ูุฑู 3 ุฑูุงู

## ุงููุดููุฉ:
- ูุฑู 3 ุฑูุงู ุจูู ุงูุณูุฉ (2,093 ุฑูุงู) ูุชูุงุตูู ุงูุทูุจ (2,090 ุฑูุงู)
- ุงูุนูููุฉ ุชูุญุณุจ ูู ุงูู frontend ููู ูุฏ ูุง ุชูุญุณุจ ุจููุณ ุงูุทุฑููุฉ ูู ุงูู backend

## ุงูุชุญููู:

### ุงูุนูููุฉ ุงููุชููุนุฉ:
- ุงููุฌููุน ุงููุฑุนู: 1,800 ุฑูุงู
- ูุณุจุฉ ุงูุนูููุฉ ุงูุงูุชุฑุงุถูุฉ: 3%
- ุงูุนูููุฉ ุงููุชููุนุฉ: 1,800 ร 0.03 = 54 ุฑูุงู (ูููุณ 3 ุฑูุงู)

### ุงููุฑู 3 ุฑูุงู ูุดูุฑ ุฅูู:
- ุฅูุง ุฎุทุฃ ูู ุญุณุงุจ ุงููุณุจุฉ (0.17% ุจุฏูุงู ูู 3%)
- ุฃู ุฎุทุฃ ูู ุชุทุจูู ุงูุนูููุฉ ุนูู ูุจูุบ ูุฎุชูู
- ุฃู ุนุฏู ุชุทุงุจู ุจูู ุญุณุงุจ ุงูู frontend ูุงูู backend

## ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ:

### 1. ุชุญุณูู ุญุณุงุจ ุงูุนูููุฉ ูู Frontend โ
**ุงูููู**: `frontend/src/components/checkout/OrderSummary.jsx`

```javascript
// ุฅุถุงูุฉ ุนูููุฉ Tabby
const [tabbyCommission, setTabbyCommission] = useState({
  amount: 0,
  rate: 0,
  displayName: 'ุนูููุฉ ุงูุชูุณูุท - ุชุงุจู'
});

// ุญุณุงุจ ุงูุนูููุฉ ุญุณุจ ุทุฑููุฉ ุงูุฏูุน
if (selectedPayment === 'tamara') {
  calculateTamaraCommission();
} else if (selectedPayment === 'tabby') {
  calculateTabbyCommission();
} else {
  // ุฅุนุงุฏุฉ ุชุนููู ุงูุนูููุงุช ููุทุฑู ุงูุฃุฎุฑู
  setTamaraCommission({ amount: 0, rate: 0 });
  setTabbyCommission({ amount: 0, rate: 0 });
}
```

### 2. ุฅุถุงูุฉ ุชุณุฌูู ููุตู ููุชุดุฎูุต โ
```javascript
console.log('๐ฐ Order calculation:', {
  subtotal,
  tamaraCommission: tamaraCommission.amount,
  tabbyCommission: tabbyCommission.amount,
  totalCommission,
  selectedPayment
});
```

### 3. ุชูุญูุฏ ุญุณุงุจ ุงูุนูููุฉ โ
- Tamara ู Tabby ูุณุชุฎุฏูุงู ููุณ endpoint: `/tamara-settings/calculate-commission`
- ููุณ ุงููุณุจุฉ ูุงูููุทู ูููุง ุงูุทุฑููุชูู

## ุฃุฏุงุฉ ุงูุงุฎุชุจุงุฑ:

**TEST_COMMISSION_CALCULATION.html** - ูุงุฎุชุจุงุฑ ุญุณุงุจ ุงูุนูููุฉ ูุฏููุงู

### ุงูููุฒุงุช:
- ุงุฎุชุจุงุฑ ุญุณุงุจ ุงูุนูููุฉ ูุทุฑู ุฏูุน ูุฎุชููุฉ
- ุญุณุงุจ ุงููุฌููุน ุงูููู ูุน ุฌููุน ุงูุฑุณูู
- ููุงุฑูุฉ ุงููุชุงุฆุฌ ุจูู ุงูุทุฑู ุงููุฎุชููุฉ

## ุฎุทูุงุช ุงูุชุดุฎูุต:

### 1. ุงุฎุชุจุงุฑ ุญุณุงุจ ุงูุนูููุฉ
```bash
# ุงูุชุญ TEST_COMMISSION_CALCULATION.html
# ุฃุฏุฎู ุงููุจูุบ: 1800
# ุงุฎุชุฑ ุทุฑููุฉ ุงูุฏูุน: ุชุงุจู
# ุงุถุบุท "ุญุณุงุจ ุงูุนูููุฉ"
```

### 2. ูุญุต Console Logs
```javascript
// ูู ุงููุชุตูุญุ ุงูุชุญ Developer Tools > Console
// ุงุจุญุซ ุนู ุฑุณุงุฆู ูุซู:
// "๐ฐ Calculating Tabby commission for subtotal: 1800"
// "โ Tabby commission calculated: {amount: 54, rate: 3}"
```

### 3. ููุงุฑูุฉ Frontend vs Backend
```bash
# Frontend: ุชุญูู ูู OrderSummary console logs
# Backend: ุชุญูู ูู orderController console logs
```

## ุงููุชุงุฆุฌ ุงููุชููุนุฉ:

### ููุฏูุน ุนูุฏ ุงูุงุณุชูุงู (COD):
- ุงููุฌููุน ุงููุฑุนู: 1,800 ุฑูุงู
- ุงูุนูููุฉ: 0 ุฑูุงู
- ุงูุดุญู: 20 ุฑูุงู  
- ุงูุถุฑูุจุฉ: (1,800 + 20) ร 0.15 = 273 ุฑูุงู
- **ุงููุฌููุน ุงูููู: 2,093 ุฑูุงู**

### ูู Tamara/Tabby:
- ุงููุฌููุน ุงููุฑุนู: 1,800 ุฑูุงู
- ุงูุนูููุฉ: 54 ุฑูุงู (3%)
- ุงูุดุญู: 20 ุฑูุงู
- ุงูุถุฑูุจุฉ: (1,800 + 54 + 20) ร 0.15 = 281.1 ุฑูุงู
- **ุงููุฌููุน ุงูููู: 2,155.1 ุฑูุงู**

## ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:

1. **ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุนูููุฉ**:
   ```bash
   GET /api/tamara-settings
   ```

2. **ุงุฎุชุจุฑ ุญุณุงุจ ุงูุนูููุฉ ูุจุงุดุฑุฉ**:
   ```bash
   POST /api/tamara-settings/calculate-commission
   {"subtotal": 1800}
   ```

3. **ูุงุฑู ุงููุชุงุฆุฌ**:
   - Frontend console logs
   - Backend console logs  
   - Database order records

## ุงููููุงุช ุงููุญุฏุซุฉ:

1. `frontend/src/components/checkout/OrderSummary.jsx` - ุฅุถุงูุฉ ุนูููุฉ Tabby ูุชุญุณูู ุงูุชุณุฌูู
2. `TEST_COMMISSION_CALCULATION.html` - ุฃุฏุงุฉ ุงุฎุชุจุงุฑ ุดุงููุฉ